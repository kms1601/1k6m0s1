---
title: '코딩테스트 풀이 3'
description: '12907 - [동물원]'
date: '2024-09-05'
thumbnail: 'https://drive.google.com/thumbnail?id=1_i9hGGl4pc-AjE6p2U0N4cOb-bYdXi5X&sz=w1000'
hashtags: '코딩테스트'
---


## 백준 골드 V [<a href="https://www.acmicpc.net/problem/12907" target="_blank" className="a-mdx">동물원</a>]

### 문제

동물원에 동물이 N마리 있고, 1번부터 N번가지 번호가 매겨져 있다. 이 동물원에 동물은 토끼나 고양이밖에 없고, 모든 동물의 키는 다 다르다.

수빈이는 토끼와 고양이를 구분할 수 없지만, 토끼와 고양이와 대화를 할 수 있다!

수빈이는 모든 동물에게 다음과 같은 질문을 했다.

"너랑 같은 동물 중에서 너보다 키가 큰 동물은 몇 마리야?"

모든 토끼는 자신보다 키가 큰 토끼의 수를 말해줬고, 모든 고양이도 자신보다 키가 큰 고양이의 수를 말해줬다.

모든 동물의 대답이 주어졌을 때, 각 대답을 어떤 동물이 했는지 알아내려고 한다. 가능한 조합의 수를 구하는 프로그램을 작성하시오.

### 입력

첫째 줄에 동물의 수 N (1 ≤ N ≤ 40)이 주어진다.

둘째 줄에는 각 동물의 대답이 주어진다. 대답은 0보다 크거나 같고, 40보다 작거나 같은 정수이다.

### 출력

첫째 줄에 가능한 조합의 수를 출력한다.

### 예제

#### 입력 1

5
0 1 2 3 4

#### 출력 1

2

#### 입력 2

2
5 8

#### 출력 2

0

#### 입력 3

6
0 0 0 0 0 0

#### 출력 3

0

#### 입력 4

5
1 0 2 0 1

#### 출력 4

8

#### 입력 5

3
1 0 1

#### 출력 5

0

---

## 풀이 과정

### 가능한 조건

동물이 총 N마리(A, B, C, D, E, ...)가 있고 키는 오름차순으로 정렬해 있다고 가정해보자.

먼저 동물의 종류를 고려하지 않고 대답이 어떻게 될지 생각해보자. A의 입장에서 자신보다 키가 큰 동물은 N - 1이라고 대답한다. 같은 논리로 B는 N - 2라고 대답하고 가장 키가 큰 동물은 0이라고 대답한다.

여기서 규칙을 찾을 수 있다. 문제 조건에서 키는 전부 다르다고 했으므로 동일하게 답하는 동물을 없다. 즉, 대답은 반드시 0부터 N - 1까지 나오게 된다. 만약 주어진 숫자를 나열했을 때, 0부터 N - 1까지 한번씩 나오지 않았다면 불가능한 대답이다.

### 동물의 종류 고려하기

동물이 총 N마리 있고 이 중 M마리가 토끼라고 가정해보자(M < N).

토끼는 토끼끼리만 세므로 위에서 설명한 대로 대답은 0 ~ M - 1까지 나오게 된다. 같은 논리로 고양이의 대답은 0 ~ N - M - 1까지 나오게 된다.

만약 한 쪽 동물이 0마리라면 대답은 0 ~ N - 1까지 나오게 된다.

정리하자면

1. 대답이 0 ~ N - 1까지 나왔다면 한 쪽 동물만이 존재
2. 대답이 0 ~ M - 1과 0 ~ N - M - 1로 나왔다면 각각 M, N - M마리가 존재
3. 위 두 조건에 부합하지 않으면 불가능한 대답

### 경우의 수

다음과 같이 3가지 케이스로 나눌 수 있다.

1. 한 쪽 동물만이 존재
2. 두 종류의 동물 존재
3. 불가능

불가능한 경우는 경우의 수가 존재하지 않으므로 답은 0이 된다.

두 종류의 동물이 존재할 때는 다시 2가지 케이스로 나누어 생각해야한다. 한 쪽 동물의 수가 M이라고 하면

1. N / 2 ≠ M
2. N / 2 \= M

이렇게 나누어 생각해야 하는 이유는 2의 경우 두 그룹의 크기가 같기 때문에 두 그룹을 구분할 수 없기 때문이다.

만약 4마리가 1, 3마리의 그룹으로 묶인다면 다음과 같은 조합이 가능하다.

| 1         | 2         | 3         | 4         |
|-----------|-----------|-----------|-----------|
| 고<br/>토토토 | 토<br/>고토토 | 토<br/>고고고 | 고<br/>토고고 |

더 작은 그룹에서 고양이와 토끼를 바꾸어서 새로운 조합을 만들 수 있다. 즉, 2 ^ (더 적은 숫자의 그룹 수) * 2 가 가능한 조합의 수가 된다.

만약 4마리가 2, 2마리의 그룹으로 묶인다면 다음과 같은 조합이 가능하다.

| 1         | 2         | ~~3~~     | ~~4~~     |
|-----------|-----------|-----------|-----------|
| 고고<br/>토토 | 고토<br/>토고 | 토토<br/>고고 | 토고<br/>고토 |

보다시피 그룹의 수가 같이 때문에 뒤 두개는 앞 두개와 동일하다. 다시 말해서 마지막에 2를 곱하지 않는다. 즉, 2 ^ (더 적은 숫자의 그룹 수) 가 가능한 조합의 수가 된다.

마지막으로 한 쪽 동물만이 존재할 때, 다른 쪽의 동물은 0마리가 있는 것이므로 1번 경우와 동일한 로직으로 답을 구하면 된다(2 ^ 0 * 2 = 2).

### 정답

```java
import java.io.*;
import java.util.*;

public class Main {
    private static final BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    public static StringTokenizer st;

    public static void main(String[] args) throws IOException {
        int N = Integer.parseInt(br.readLine());
        int[] count = new int[N];
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < N; i++) {
            count[i] = Integer.parseInt(st.nextToken());
        }

        Arrays.sort(count); // 대답한 마릿수의 오름차순으로 정렬한다. 즉, 키 내림차순으로 정렬한다.
        List<Integer> list1 = new ArrayList<>(); // 그룹 1
        List<Integer> list2 = new ArrayList<>(); // 그룹 2
        list1.add(-1); // 첫 시작을 위해서 -1을 넣는다.
        list2.add(-1);

        for (int i : count) {
            // 그룹 1 마지막 값 + 1이 현재 값과 동일하면 그룹1에 넣고 그렇지 않다면 그룹2에 동일하게 적용한다.
            if (list1.get(list1.size() - 1) + 1 == i) {
                list1.add(i);
            } else if (list2.get(list2.size() - 1) + 1 == i) {
                list2.add(i);
            } else { // 그룹2도 그렇지 않다면 불가능한 경우이므로 0 출력
                System.out.println(0);
                return;
            }
        }

        // 첫 시작을 위해 -1을 넣었으므로 2를 추가로 곱해줄 필요 없음.
        // 그룹1에 먼저 값을 집어넣기 때문에 그룹2의 크기가 항상 더 작다.
        // 두 그룹의 크기가 동일할 경우 2를 곱하지 않는다.
        if (list1.size() == list2.size()) {
            System.out.println((int) Math.pow(2, list2.size() - 1));
        } else {
            System.out.println((int) Math.pow(2, list2.size()));
        }
    }
}
```

---